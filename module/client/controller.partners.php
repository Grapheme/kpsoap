<?class partners_client extends TClientController {	public function partners($code_name){		$this->content = $this->load_module($code_name);		$content = $this->core->sql->select("SELECT * FROM `dat_partners` ORDER BY `priority`");				if (empty($this->page) && $content->num_rows>1)			header("location: ./".$content->cell[1]['alias']);		else {			$title = $content->cell[0]['title'];			$text = $content->cell[0]['text'];		}				$submenu = array();						for ($i=0; $i<$content->num_rows; $i++) {			if ($content->cell[$i]['alias'] == $this->page) {				$title = $content->cell[$i]['title'];				$text = $content->cell[$i]['text'];			}			if ($content->cell[$i]['alias'] != '_')				array_push($submenu, $content->cell[$i]['alias']);		}				if (!isset($title) && !isset($text)) {			$this->content = $this->error404($code_name);			return $this->content;		}				$this->content['content'] = array('title' => $title,										  'text' => $text);		$this->content['subclass'] = "inner";		if (count($submenu)>0)			$this->content['submenu_tpl'] = "submenu.partners.tpl";		return $this->content;	}}?>